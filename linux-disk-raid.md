---
layout: post
comments: true
title: linux磁盘阵列简介
date: 2017-08-28 17:41:06
tags:
categories:
- linux
---

### 为什么需要RAID

为了各种各样的目的。重要的目的是数据的安全；数据读写速度。

### RAID分类

#### RAID 0

raid0的主要功能是提供数据读写速度。如果你有N块磁盘，原来只能同时写一块磁盘，写满了再下一块，做了`RAID 0`之后，N块可以同时写，速度提升很快，但由于没有备份，可靠性很差。N最少为2。

#### RAID 1

`RAID 1`的有优点是既能提高数据读写速度，也能保证数据的安全性。如果你有N块磁盘，把其中`N/2`块磁盘作为镜像磁盘，在往其中一块磁盘写入数据时，也同时往另一块写数据。坏了其中一块时，镜像磁盘自动顶上，可靠性最佳，但空间利用率太低。N最少为2。

<!-- more -->

#### RAID 3

`RAID 3`是若你有N块盘，其中1块盘作为校验盘，剩余`N-1`块盘相当于作`RAID 0`同时读写，当其中一块盘坏掉时，可以通过校验码还原出坏掉盘的原始数据。这个校验方式比较特别，奇偶检验, `1 XOR 0 XOR 1=0`，`0 XOR 1 XOR 0=1`，最后的数据时校验数据，当中间缺了一个数据时，可以通过其他盘的数据和校验数据推算出来。但是这有个问题，由于`N-1`块盘做了`RAID 0`，每一次读写都要牵动所有盘来为它服务，而且万一校验盘坏掉就完蛋了。最多允许坏一块盘。N最少为3。

`RAID 3` 提高了数据读写速度，也能兼顾数据的安全性。

#### RAID 5

在`RAID 3`的基础上有所区别，同样是相当于是1块盘的大小作为校验盘，`N-1`块盘的大小作为数据盘，但校验码分布在各个磁盘中，不是单独的一块磁盘，也就是分布式校验盘，这样做好处多多。最多坏一块盘。N最少为3.

{% asset_img raid5.jpg %}

#### RAID 6

`RAID 6`在`RAID 5`的基础上，又增加了一种校验码，和解方程似的，一种校验码一个方程，最多有两个未知数，也就是最多坏两块盘。总体来说：

{% asset_img raid6.jpg %}

